import { StateFsm } from "Common/StateFsm.mjs";
var $typeof = puer.$typeof;
var Button = CS.UnityEngine.UI.Button;
import { iterator } from "Common/Iterator.mjs";
var PlayerData = CS.Runner.PlayerData;
var AnalyticsEvent = CS.UnityEngine.Analytics.AnalyticsEvent;
var LoadoutState = CS.Runner.Game.LoadoutState;
export class LevelStart extends StateFsm {
    init() {
        iterator(this.agent.GetComponentsInChildren($typeof(Button), true)).forEach(btn => {
            btn.onClick.AddListener(() => {
                PlayerData.instance.tutorialDone = true;
                this.startGame();
            });
        });
    }
    startGame() {
        if (PlayerData.instance.ftueLevel == 0) {
            PlayerData.instance.ftueLevel = 1;
            PlayerData.instance.Save();
        }
        AnalyticsEvent.FirstInteraction("start_button_pressed");
        LoadoutState.self.StartGame();
    }
}
export const self = global.$LevelStart ??= new LevelStart();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGV2ZWxTdGFydC5tanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9QYWNrYWdlcy9Uc1Byb2ovc3JjL01haW4vTGV2ZWxTdGFydC5tdHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLHFCQUFxQixDQUFDO0FBQzdDLElBQU8sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7QUFDOUIsSUFBTyxNQUFNLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO0FBQ3pDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxxQkFBcUIsQ0FBQztBQUU3QyxJQUFPLFVBQVUsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztBQUd6QyxJQUFPLGNBQWMsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUM7QUFDaEUsSUFBTyxZQUFZLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO0FBRWxELE1BQU0sT0FBTyxVQUFXLFNBQVEsUUFBUTtJQUVwQyxJQUFJO1FBQ0EsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsdUJBQXVCLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBb0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNqRyxHQUFHLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUU7Z0JBQ3pCLFVBQVUsQ0FBQyxRQUFRLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztnQkFDeEMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ3JCLENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsU0FBUztRQUNMLElBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxTQUFTLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDckMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDO1lBQ2xDLFVBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDL0IsQ0FBQztRQUNELGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1FBQ3hELFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDbEMsQ0FBQztDQUNKO0FBRUQsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUFlLE1BQU0sQ0FBQyxXQUFXLEtBQUssSUFBSSxVQUFVLEVBQUUsQ0FBQyJ9