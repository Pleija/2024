import { StateFsm } from "Common/StateFsm.mjs";
var Button = CS.UnityEngine.UI.Button;
var $typeof = puer.$typeof;
import { iterator } from "Common/Iterator.mjs";
var PlayerData = CS.Runner.PlayerData;
export class Settings extends StateFsm {
    settingsPop;
    dropDataBtn;
    init() {
        const btn = this.agent.GetComponent($typeof(Button));
        btn.onClick.AddListener(() => {
            this.settingsPop.SetActive(!this.settingsPop.activeInHierarchy);
            iterator(this.settingsPop.GetComponentsInChildren($typeof(Button))).forEach(item => {
                item.onClick.AddListener(() => {
                    this.settingsPop.SetActive(false);
                });
            });
        });
        this.dropDataBtn.onClick.AddListener(() => {
            PlayerData.conn.DropTable($typeof(PlayerData));
            console.log("drop PlayerData ok.");
        });
        this.settingsPop.SetActive(false);
    }
}
export const self = global.$Settings ??= new Settings();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2V0dGluZ3MubWpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vUGFja2FnZXMvVHNQcm9qL3NyYy9NaXNzaW9uUGFnZS9TZXR0aW5ncy5tdHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRS9DLElBQU8sTUFBTSxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztBQUN6QyxJQUFPLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO0FBQzlCLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxxQkFBcUIsQ0FBQztBQUU3QyxJQUFPLFVBQVUsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztBQUV6QyxNQUFNLE9BQU8sUUFBUyxTQUFRLFFBQVE7SUFFaEMsV0FBVyxDQUFhO0lBQ3hCLFdBQVcsQ0FBUztJQUNwQixJQUFJO1FBQ0EsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFXLENBQUM7UUFDL0QsR0FBRyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRSxFQUFFO1lBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ2pFLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLHVCQUF1QixDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBb0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDaEcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRSxFQUFFO29CQUN2QixJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDeEMsQ0FBQyxDQUFDLENBQUM7WUFDVCxDQUFDLENBQUMsQ0FBQztRQUNSLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEdBQUUsRUFBRTtZQUNuQyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztZQUMvQyxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDekMsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN0QyxDQUFDO0NBQ047QUFFRCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBQVksTUFBTSxDQUFDLFNBQVMsS0FBSyxJQUFJLFFBQVEsRUFBRSxDQUFDIn0=