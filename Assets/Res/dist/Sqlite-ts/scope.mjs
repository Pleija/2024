export class Scope {
    db;
    transaction;
    tables;
    constructor(db, transaction) {
        this.db = db;
        this.transaction = transaction;
        this.exec = this.exec.bind(this);
        this.tables = db.tables;
    }
    exec(param, args) {
        const sql = typeof param === 'string' ? param : param.sql;
        return new Promise((resolve, reject) => {
            this.transaction.execSql(sql, args, res => {
                resolve(this.db.driver.getQueryResult(res));
            }, reject);
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGUubWpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vUGFja2FnZXMvVHNQcm9qL3NyYy9TcWxpdGUtdHMvc2NvcGUubXRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE1BQU0sT0FBTyxLQUFLO0lBQ2QsRUFBRSxDQUFPO0lBQ1QsV0FBVyxDQUFhO0lBQ3hCLE1BQU0sQ0FBVztJQUVqQixZQUFZLEVBQVMsRUFBRSxXQUF3QjtRQUMzQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQTtRQUNaLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDaEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFBO0lBQzNCLENBQUM7SUFJRCxJQUFJLENBQUMsS0FBMEIsRUFBRSxJQUFZO1FBQ3pDLE1BQU0sR0FBRyxHQUFHLE9BQU8sS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFBO1FBQ3pELE9BQU8sSUFBSSxPQUFPLENBQVksQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7WUFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQ3BCLEdBQUcsRUFDSCxJQUFJLEVBQ0osR0FBRyxDQUFDLEVBQUU7Z0JBQ0YsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBO1lBQy9DLENBQUMsRUFDRCxNQUFNLENBQ1QsQ0FBQTtRQUNMLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztDQUNKIn0=