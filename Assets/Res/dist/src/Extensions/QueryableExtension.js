import { relationMetaKey } from "../Decorator/DecoratorKey";
import { Enumerable } from "../Enumerable/Enumerable";
import { Queryable } from "../Queryable/Queryable";
Array.prototype.include = function () {
    return this;
};
Array.prototype.project = function () {
    return this;
};
Enumerable.prototype.include = function () {
    return this;
};
Enumerable.prototype.project = function () {
    return this;
};
Queryable.prototype.asSubquery = function () {
    return this;
};
Reflect.getRelationData = (source, relationProperty, target) => {
    const relationMeta = Reflect.getOwnMetadata(relationMetaKey, source, relationProperty);
    if (!relationMeta.isMaster) {
        return Reflect.getOwnMetadata(source, target, relationMeta.fullName);
    }
    return Reflect.getOwnMetadata(target, source, relationMeta.fullName);
};
Reflect.setRelationData = (source, relationProperty, target, value) => {
    const relationMeta = Reflect.getOwnMetadata(relationMetaKey, source.constructor, relationProperty);
    if (!relationMeta.isMaster) {
        return Reflect.defineMetadata(source, value, target, relationMeta.fullName);
    }
    return Reflect.defineMetadata(target, value, source, relationMeta.fullName);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUXVlcnlhYmxlRXh0ZW5zaW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vUGFja2FnZXMvVHNQcm9qL3NyYy9zcmMvRXh0ZW5zaW9ucy9RdWVyeWFibGVFeHRlbnNpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQzVELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUV0RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFTbkQsS0FBSyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUc7SUFDdEIsT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQyxDQUFDO0FBQ0YsS0FBSyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUc7SUFDdEIsT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQyxDQUFDO0FBUUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUc7SUFDM0IsT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQyxDQUFDO0FBQ0YsVUFBVSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUc7SUFDM0IsT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQyxDQUFDO0FBT0YsU0FBUyxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUc7SUFDN0IsT0FBTyxJQUFXLENBQUM7QUFDdkIsQ0FBQyxDQUFDO0FBT0YsT0FBTyxDQUFDLGVBQWUsR0FBRyxDQUFrRCxNQUFTLEVBQUUsZ0JBQXNCLEVBQUUsTUFBeUIsRUFBSyxFQUFFO0lBQzNJLE1BQU0sWUFBWSxHQUFzQixPQUFPLENBQUMsY0FBYyxDQUFDLGVBQWUsRUFBRSxNQUFNLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztJQUMxRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3pCLE9BQU8sT0FBTyxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBQ0QsT0FBTyxPQUFPLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3pFLENBQUMsQ0FBQztBQUNGLE9BQU8sQ0FBQyxlQUFlLEdBQUcsQ0FBa0QsTUFBUyxFQUFFLGdCQUFzQixFQUFFLE1BQXlCLEVBQUUsS0FBUSxFQUFFLEVBQUU7SUFDbEosTUFBTSxZQUFZLEdBQTRDLE9BQU8sQ0FBQyxjQUFjLENBQUMsZUFBZSxFQUFFLE1BQU0sQ0FBQyxXQUFXLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztJQUM1SSxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3pCLE9BQU8sT0FBTyxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDaEYsQ0FBQztJQUNELE9BQU8sT0FBTyxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDaEYsQ0FBQyxDQUFDIn0=